{{Info/Software
| nome                = Asterisk
| logo                = 
| imagem              = 
| legenda             = 
| desenvolvedor       = [[Digium]] e Comunidade
| data_lancamento     = 
| ultima_versao       = 1.0
| ultima_data         = [[26 de Outubro]] de [[2013]]
| sistema_operacional = Todos compatíveis com Java 7
| genero              = PABX IP/Softphone
| licen�a             = [[OpenSource]] e [[GNU]]
| website             = 
}}

<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">FUNDAÇÃO</div>
<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">EDSON QUEIROZ</div>

<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">UNIVERSIDADE</div>
<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">DE FORTALEZA</div>

<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">UNIFOR</div>




<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">Relatório da versão 1.0 beta do</div>
<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">RTPhone</div>

<div class="center" style="font color="002bb8"; width: auto; margin-left: auto; margin-right: auto;">Aluno: Judah Holanda Correia Lima</div>

== Introdução ==
Este Documento tem como objetivo explicar o funcionamento do RTPhone em sua versão 1.0, mostrar propostas de melhoria e introduzir o padrão de projeto que deve ser utilizado. Além de compor a nota.

== Arquitetura do Sistema ==
=== Atual ===
==== Geral ====
==== Banco de Dados ====
O novo Banco de Dados possui tr�s tabelas. Uma tabela possui o username que funciona como chave prim�ria de tabela, uma senha e o IP que se diferente de nulo significa que o usu�rio est� logado e uma unique key com o ID do Facebook do usu�rio (para integra��o com o Facebook). Outra ter� um conjunto de Banco de Dados que o usu�rio poder� se logar (a fim de deixar alguns usu�rios privados de um determinado sistema que tenha esse banco de dados com usu�rios). E outra que ter� um conjunto de usu�rios e senhas para acessos a estes Bancos de Dados.

==== Protocolos ====
===== Registro =====
Nesta configura��o o pr�prio cliente vai fazer a consulta no Banco de Dados e verificar se ele existe e caso n�o exista ele se registra no Banco. Ap�s isto ele faz um broadcast a todos os clientes logados informando que ele acaba de se registrar, para que possam atualizar suas tabelas. 

===== Login =====
Nesta configura��o o pr�prio cliente vai fazer a consulta no Banco de Dados e verificar se ele existe e se n�o est� logado e se loga no Banco. Ap�s isto ele faz um broadcast a todos os clientes logados informando que ele acaba de se logar, para que possam atualizar suas tabelas. 

===== Logoff =====
Nesta configura��o o pr�prio cliente vai fazer a consulta no Banco de Dados e verificar se ele existe e se est� logado e se desloga no Banco. Ap�s isto ele faz um broadcast a todos os clientes logados informando que ele acaba de se deslogar, para que possam atualizar suas tabelas. Ele � acionado ao fechar a aplica��o.

===== Refresh =====
A cada 10 segundo o cliente faz uma requisi��o pedindo todos os usu�rios logados e registrados e atualiza a lista, o mesmo acontece com o servidor, mas apenas quando inicia.

===== Chamada =====
Nesta configura��o o pr�prio cliente vai fazer a consulta no Banco de Dados e resgatar o endere�o do usu�rio o qual ele deseja se conectar e ent�o chama a fun��o no cliente o qual ele deseja conectar enviando seu username endere�o e portas livres para conex�o (que nada mais � que uma lista de portas livres para transmiss�o e recep��o), esta fun��o retorna uma classe Call que possui o endere�o o qual ele vai se conectar, um �udio de espera (caso haja transfer�ncia de chamada), as portas de transmiss�o e recep��o e outros dados de conex�o. 

== Implementa��o ==
=== IDE ===
A IDE utilizada foi o NetBeans. Devido � facilidade de se implementar RMI e devido aos plug-ins que j� vem por padr�o. Como plug-in para cria��o e edi��o de interface gr�fica, JDBC e etc.
=== Linguagem ===
A linguagem utilizada foi o Java 7. Devido a sua grande comunidade e documenta��o al�m, � claro, das facilidades.
=== Plataforma ===
A plataforma (SO�s e Arquiteturas (x86, x64, alguns Arms com Java convencional)) escolhida foram todas as que o Java d� suporte. Embora se tenha encontrado problemas com o firewall no Windows 8 (N�o permite nenhuma conex�o nem RMI) e no Linux (N�o aceita conex�o RTP, mas estabelece quando ele quem a requisita). Nos Sistemas Operacionais Mountain Lion e Windows 7 n�o houveram problemas. O modelo de interface gr�fica escolhido foi a padr�o do sistema que utilizar� o programa.
=== Bibliotecas e Recursos Utilizados ===
Para comunica��o Servidor/Cliente foi utilizado � biblioteca padr�o do Java para RMI (Remote Method Invocation). A qual permite uma invoca��o de m�todos remotamente e assincronamente algo que o TCP n�o permitia facilmente.
Para a conex�o RTP foi feita uma pesquisa onde foi encontrado um programa com uma conex�o simples de �udio RTP. Ent�o foi extra�do o core RTP (que estava fortemente acoplado ao c�digo).
=== Padr�o de Projeto ===
Para facilitar a leitura do c�digo algumas regras devem ser seguidas:
	1)O c�digo deve ser feito todo em ingl�s, com exce��o dos coment�rios que podem ser feitos em portugu�s por exemplo.
	2)N�o podem haver siglas em m�todos, vari�veis e classes, devem ser escritos por extenso.
	3)N�o pode existir caracteres especiais em m�todos, vari�veis e classes, como: _.
	4)Deve seguir o nota��o �camelo� na declara��o e instancia de m�todos, vari�veis e classes.(Classes devem come�ar com letra mai�scula e objetos e vari�veis com letra min�scula e o resto das letras min�scula, mas para cada nova palavra na vari�vel deve-se come�ar com mai�scula)
	5)Deve-se seguir a identa��o padr�o do NetBeans. (Caso v� utilizar o eclipse no reposit�rio tem o XML para identa��o).
=== Uso ===
Existem varias maneiras de usar iniciar depois de dado o build no projeto:
==== Iniciar: ====
1)IDE Debug:
	Basca clicar no �cone do inseto no NetBeans (ou IDE utilizada)
2)IDE Run:
	Basca clicar no �cone do �play� no NetBeans (ou IDE utilizada).
3)Debug:
	Entre no terminal:
		Digite: cd diret�rio do projeto/dist
		Digite: java -jar projeto.jar
4)Run:
	Entre no diret�rio e basta clicar no jar do projeto
==== Client: ====
1)Digite Nome, Usu�rio e Senha.
2)Caso o usu�rio ainda n�o esteja registrado: Clique em Register.
3)Clique em Login.
4)Caso queira ligar para outro usu�rio selecione a aba Logged Users e selecione o usu�rio o qual deseja fazer a liga��o, depois de selecionado clique em Call.
5)Para desligar clique em Hung Up.

Release: O programa jar execut�vel vai estar na pasta dist ent�o passe apendas para o usu�rio o conte�do desta pasta.

	
== Instala��o e Uso ==
=== Requisitos: ===
-Internet
-Windows 7 ou Mac (Ou Linux (e com IP configurado no arquivo hosts) e Windows 8 com firewall configurados)

=== Instala��o: ===
N�o tem, basta baixar o programa aqui: [https://github.com/Judahh/RTPhone/releases/tag/1.0-beta], o execut�vel est� na pasta com a extens�o .jar .

=== Uso: ===
==== Cliente: ====
1)Caso esteja no sistema Linux:
		Entre no terminal:
		Digite: cd diret�rio do projeto/dist
		Digite: java -jar RTPhoneClient.jar:
 
Caso n�o esteja basta clicar no execut�vel:
 
2)Digite Nome, Usu�rio e Senha.
3)Caso o usu�rio ainda n�o esteja registrado: Clique em Register.
4)Clique em Login.
5)Caso queira ligar para outro usu�rio selecione o usu�rio o qual deseja fazer a liga��o, depois de selecionado clique em Call.
6)Para desligar clique em Hung Up.

== Limita��es e Corre��es ==

== Bibliografia ==
* Dispon�vel em [http://bcook.cs.georgiasouthern.edu/cs523/2taj/index.htm] 
  Acesso em 10/2013
* Dispon�vel em [http://restfb.com/]
  Acesso em 10/2013

[[Categoria:Software livre]]
